

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Maps &mdash; AstroLyze 0.1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="AstroLyze 0.1.0 documentation" href="index.html" />
    <link rel="prev" title="Motivation" href="manual.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="manual.html" title="Motivation"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">AstroLyze 0.1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Maps</a><ul>
<li><a class="reference internal" href="#main">Main</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#fitsmap">FitsMap</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#gildasmap">GildasMap</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#miriadmap">MiriadMap</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#stack">Stack</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#module-astrolyze.maps.tools">Tools</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="manual.html"
                        title="previous chapter">Motivation</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/maps.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-astrolyze.maps">
<span id="maps"></span><h1>Maps<a class="headerlink" href="#module-astrolyze.maps" title="Permalink to this headline">¶</a></h1>
<div class="section" id="main">
<span id="main-label"></span><h2>Main<a class="headerlink" href="#main" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="astrolyze.maps.main.Map">
<em class="property">class </em><tt class="descclassname">astrolyze.maps.main.</tt><tt class="descname">Map</tt><big>(</big><em>map_name</em>, <em>name_convention=True</em><big>)</big><a class="headerlink" href="#astrolyze.maps.main.Map" title="Permalink to this definition">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">Map</span></tt> is the parent Class for the <tt class="docutils literal"><span class="pre">maps</span></tt>-package. It contains all
functions that are common to all supported map-formats, i.e. Fits,
GILDAS and Miriad. This class is only supposed to be called through
the FitsMap, GildasMap, and MiriadMap classes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>map_name</strong> : string</p>
<blockquote>
<div><p>The name and path of the file that is to be initialized to the maps
package.</p>
</div></blockquote>
<p><strong>name_convention</strong> : True or False</p>
<blockquote class="last">
<div><p>Only files following the name_convention are supported.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">change_map_name</span></tt>([source,&nbsp;telescope,&nbsp;...])</td>
<td>Change the names of the maps on basis of the keywords.</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">flux_conversion</span></tt>([x,&nbsp;major,&nbsp;minor,&nbsp;...])</td>
<td>Calulates conversion between K.km/s and Jy/beam and vise versa.</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">get_beam_size</span></tt>()</td>
<td>Calculates the beam-size in steradians and in m^2.</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">resolutionToString</span></tt>([resolution])</td>
<td>Converts the resolution list to a string.</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">returnName</span></tt>([source,&nbsp;telescope,&nbsp;species,&nbsp;...])</td>
<td>Returns the Name corresponding to the Name convention.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="astrolyze.maps.main.Map.resolutionToString">
<tt class="descname">resolutionToString</tt><big>(</big><em>resolution=None</em><big>)</big><a class="headerlink" href="#astrolyze.maps.main.Map.resolutionToString" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the resolution list to a string.</p>
<p>This is needed to print the resolution information and/or include it
into the file names.</p>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.main.Map.get_beam_size">
<tt class="descname">get_beam_size</tt><big>(</big><big>)</big><a class="headerlink" href="#astrolyze.maps.main.Map.get_beam_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the beam-size in steradians and in m^2.</p>
<p>For the latter the distance to the source has to be available..</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>Initialization if the variables:</strong> :</p>
<p class="last"><strong>self.beamSizeSterad and self.beamSizeM2</strong> :</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The formula used is:</p>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.main.Map.change_map_name">
<tt class="descname">change_map_name</tt><big>(</big><em>source=None</em>, <em>telescope=None</em>, <em>species=None</em>, <em>fluxUnit=None</em>, <em>resolution=None</em>, <em>comments=None</em>, <em>dataFormat=False</em>, <em>prefix=None</em><big>)</big><a class="headerlink" href="#astrolyze.maps.main.Map.change_map_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the names of the maps on basis of the keywords.</p>
<p>This function can also be used to make a copy of the file to the new
name and/or location (the latter is steered over the prefix).</p>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.main.Map.returnName">
<tt class="descname">returnName</tt><big>(</big><em>source=None</em>, <em>telescope=None</em>, <em>species=None</em>, <em>fluxUnit=None</em>, <em>resolution=None</em>, <em>comments=None</em>, <em>dataFormat=False</em>, <em>prefix=None</em><big>)</big><a class="headerlink" href="#astrolyze.maps.main.Map.returnName" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the Name corresponding to the Name convention.</p>
<p>Single keywords can be changed. This function is useful to generate a
writeout name for a changed file without overwriting the current
<tt class="docutils literal"><span class="pre">self.map_name</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>All possible parameters from the &#8220;Naming Convention&#8221; plus the new</strong> :</p>
<p class="last"><strong>prefix.</strong> :</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.main.Map.flux_conversion">
<tt class="descname">flux_conversion</tt><big>(</big><em>x=None</em>, <em>major=None</em>, <em>minor=None</em>, <em>nu_or_lambda='nu'</em>, <em>direction=None</em><big>)</big><a class="headerlink" href="#astrolyze.maps.main.Map.flux_conversion" title="Permalink to this definition">¶</a></dt>
<dd><p>Calulates conversion between K.km/s and Jy/beam and vise versa.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>x</strong> : float [GHz]</p>
<blockquote>
<div><p>Wavelength/frequency. Defaults to the frequency of the loaded map,
i.e. self.frequency</p>
</div></blockquote>
<p><strong>major</strong> : float</p>
<blockquote>
<div><p>Major Axis Beam (arcsec). Default None, i.e. using self.resolution.</p>
</div></blockquote>
<p><strong>minor</strong> : float</p>
<blockquote>
<div><p>Minor Axis Beam(arcsec). Default None, i.e. using self.resolution.</p>
</div></blockquote>
<p><strong>nu_or_lambda</strong> : string</p>
<blockquote>
<div><p>Choose type of x: frequency = <tt class="docutils literal"><span class="pre">'nu'</span></tt> or wavelength =
<tt class="docutils literal"><span class="pre">'lambda'</span></tt>.</p>
</div></blockquote>
<p><strong>direction</strong> : string</p>
<blockquote class="last">
<div><p>choose conversion direction <tt class="docutils literal"><span class="pre">'kelvin_to_jansky'</span></tt>
means Kelvin to Jansky; <tt class="docutils literal"><span class="pre">'jansky_to_kelvin'</span></tt> Jansky to Kelvin.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>If self.frequency and self.resolution are correctly set, this functions
does not need any input. Otherwise this has to be given explicitly.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="fitsmap">
<h2>FitsMap<a class="headerlink" href="#fitsmap" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="astrolyze.maps.fits.FitsMap">
<em class="property">class </em><tt class="descclassname">astrolyze.maps.fits.</tt><tt class="descname">FitsMap</tt><big>(</big><em>map_name</em>, <em>name_convention=True</em><big>)</big><a class="headerlink" href="#astrolyze.maps.fits.FitsMap" title="Permalink to this definition">¶</a></dt>
<dd><p>Fits Map manipulation making extensive use of the
pyfits package.</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">change_map_name</span></tt>([source,&nbsp;telescope,&nbsp;...])</td>
<td>Change the names of the maps on basis of the keywords.</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">change_unit</span></tt>(final_unit[,&nbsp;frequency,&nbsp;debug])</td>
<td>Changes the unit of a map in an automated way.</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">flux_conversion</span></tt>([x,&nbsp;major,&nbsp;minor,&nbsp;...])</td>
<td>Calulates conversion between K.km/s and Jy/beam and vise versa.</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">gauss_factor</span></tt>(beamConv[,&nbsp;beamOrig,&nbsp;dx1,&nbsp;dy1])</td>
<td>Gets scaling factor needed get flux per beam after convolving.</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">get_beam_size</span></tt>()</td>
<td>Calculates the beam-size in steradians and in m^2.</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">get_pixel_size</span></tt>()</td>
<td>Calculates the Area of a pixel in m^2 and steradians.</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">pix2sky</span></tt>(pixel[,&nbsp;degrees_or_equatorial])</td>
<td>Calculates the coordinate of a given pixel.</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">read_aperture_box</span></tt>(position[,&nbsp;aperture_size,&nbsp;...])</td>
<td></td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">read_aperture_circle</span></tt>(position[,&nbsp;...])</td>
<td>Extract the sum and mean flux inside an aperture.</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">read_flux</span></tt>(position)</td>
<td>Reads the flux of a pixel.</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">resolutionToString</span></tt>([resolution])</td>
<td>Converts the resolution list to a string.</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">returnName</span></tt>([source,&nbsp;telescope,&nbsp;species,&nbsp;...])</td>
<td>Returns the Name corresponding to the Name convention.</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">sky2pix</span></tt>(coordinate[,&nbsp;origin])</td>
<td>Calculates the pixel corresponding to a given coordinate.</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">toFits</span></tt>()</td>
<td>Changes the map to Fits Format.</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">toGildas</span></tt>([prefix])</td>
<td>Changes the current map to the Gildas Format.</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">toMiriad</span></tt>([prefix])</td>
<td>Changes the current map to the Miriad Format.</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">updateHeader</span></tt>()</td>
<td>Saving changes to self.header to the file.</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">update_file</span></tt>([backup])</td>
<td>Saving changes in self.data and/or self.header to current file.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="astrolyze.maps.fits.FitsMap.update_file">
<tt class="descname">update_file</tt><big>(</big><em>backup=False</em><big>)</big><a class="headerlink" href="#astrolyze.maps.fits.FitsMap.update_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Saving changes in self.data and/or self.header to current file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>backup</strong> : True or False</p>
<blockquote>
<div><p>If True a copy of the original file is created having the extension
<tt class="docutils literal"><span class="pre">&quot;_old&quot;</span></tt> after the file endind, i.e. some_name.fits -&gt; some_name.
fits_old.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first last"><strong>FitsMap</strong> : Instance</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>If all variables that define the map name () are unchanged the current
file is overwritten else</p>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.fits.FitsMap.updateHeader">
<tt class="descname">updateHeader</tt><big>(</big><big>)</big><a class="headerlink" href="#astrolyze.maps.fits.FitsMap.updateHeader" title="Permalink to this definition">¶</a></dt>
<dd><p>Saving changes to self.header to the file.</p>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.fits.FitsMap.get_pixel_size">
<tt class="descname">get_pixel_size</tt><big>(</big><big>)</big><a class="headerlink" href="#astrolyze.maps.fits.FitsMap.get_pixel_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the Area of a pixel in m^2 and steradians.</p>
<p>If the distance is not given  only steradians are calculated.</p>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.fits.FitsMap.read_flux">
<tt class="descname">read_flux</tt><big>(</big><em>position</em><big>)</big><a class="headerlink" href="#astrolyze.maps.fits.FitsMap.read_flux" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the flux of a pixel.</p>
<p>Returns the value of the pixel that corresponds to the
given positions of RA, DEC (J2000) in units of equatorial
coordinates or degrees.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>position</strong> : list</p>
<blockquote>
<div><p>The position in RA,DEC where the aperture is to be applied.
The Format has to be either:</p>
<blockquote>
<div><ul class="simple">
<li>[&#8216;RA&#8217;,&#8217;DEC&#8217;] with strings representing equatorial
coordinates, e.g. [&#8216;01:34:32.8&#8217;, &#8216;+30:47:00.6&#8217;].</li>
</ul>
</div></blockquote>
<dl class="docutils">
<dt>or:</dt>
<dd><ul class="first last simple">
<li>[RA, DEC] where RA and DEC being the coordinates in Grad.</li>
</ul>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>flux</strong> : float</p>
<blockquote class="last">
<div><p>The flux at the given position.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><tt class="xref py py-obj docutils literal"><span class="pre">sky2pix</span></tt>, <tt class="xref py py-obj docutils literal"><span class="pre">astFunc.equatorial_to_degrees</span></tt>, <tt class="xref py py-obj docutils literal"><span class="pre">wcs.wcs_sky2pix</span></tt></p>
</div>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.fits.FitsMap.read_aperture_circle">
<tt class="descname">read_aperture_circle</tt><big>(</big><em>position</em>, <em>aperture_size=0</em>, <em>background_size=0</em>, <em>output=False</em>, <em>annotation=False</em>, <em>new_annotation=False</em><big>)</big><a class="headerlink" href="#astrolyze.maps.fits.FitsMap.read_aperture_circle" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract the sum and mean flux inside an aperture.</p>
<p>This function can be used to read the flux in the area of a circular
aperture, as well as to correct for the background flux.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>position</strong> : list</p>
<blockquote>
<div><p>The position in RA,DEC where the aperture is to be applied.
The Format has to be either:</p>
<blockquote>
<div><ul class="simple">
<li>[&#8216;RA&#8217;,&#8217;DEC&#8217;] with strings representing equatorial
coordinates, e.g. [&#8216;01:34:32.8&#8217;, &#8216;+30:47:00.6&#8217;].</li>
</ul>
</div></blockquote>
<dl class="docutils">
<dt>or:</dt>
<dd><ul class="first last simple">
<li>[RA, DEC] where RA and DEC being the coordinates in Grad.</li>
</ul>
</dd>
</dl>
</div></blockquote>
<p><strong>aperture_size</strong> : float [arcsec]</p>
<blockquote>
<div><p>The diameter of the aperture to be applied.</p>
</div></blockquote>
<p><strong>background_size</strong> : float [arcsec]</p>
<blockquote>
<div><p>The Size of the Anulli in which the background is to be
estimated. The number to be given here correspond to the diameter
of the circle in [arcsec ] descibing the outer border of the
annuli, measured from the position given in position. Thus, the
background is measurd in the ring described by aperture_size and
background_size. Default is 0 and thus <strong>no background substaction</strong>
is applied.</p>
</div></blockquote>
<p><strong>output</strong> : True or False</p>
<blockquote>
<div><p>If True the function reports the calculated values during
execution.</p>
</div></blockquote>
<p><strong>annotation</strong> : logical</p>
<blockquote>
<div><p>If True a kvis annotation file <tt class="docutils literal"><span class="pre">&quot;apertures.ann&quot;</span></tt> containing the
aperture used to integrate the flux is created. Default is False,
i.e. not to create the aperture.</p>
</div></blockquote>
<p><strong>new_annotation</strong> : logical</p>
<blockquote>
<div><p>If True <tt class="docutils literal"><span class="pre">&quot;apertures.ann&quot;</span></tt> is overwritten. If False an old
<tt class="docutils literal"><span class="pre">&quot;apertures.ann&quot;</span></tt> is used to append the new apertures. If it not
exists a new one is created. The latter is the default.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first last"><strong>List</strong> :  [Sum, Mean, Number of pixels]</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The pixel sizes have to be quadratic for the algorithm to work. It
measures a circle by counting the pixels from the central pixel
corresponding to the given coordinate.</p>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.fits.FitsMap.sky2pix">
<tt class="descname">sky2pix</tt><big>(</big><em>coordinate</em>, <em>origin=0</em><big>)</big><a class="headerlink" href="#astrolyze.maps.fits.FitsMap.sky2pix" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the pixel corresponding to a given coordinate.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>coordinate</strong> : list</p>
<blockquote>
<div><p>Either [&#8216;RA&#8217;,&#8217;DEC&#8217;], e.g. [&#8216;1:34:7.00&#8217;, &#8216;+30:47:52.00&#8217;] in
equatorial coordinates or [RA, DEC] in GRAD.</p>
</div></blockquote>
<p><strong>origin</strong> : int</p>
<blockquote>
<div><p><tt class="docutils literal"><span class="pre">0</span></tt> or <tt class="docutils literal"><span class="pre">1</span></tt>; this steers how the first pixel is counted
<tt class="docutils literal"><span class="pre">0</span></tt> is for usage with python as it starts to count from zero.
<tt class="docutils literal"><span class="pre">1</span></tt> is the fits standart.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>pixel</strong> : List</p>
<blockquote class="last">
<div><p>[x, y]; the pixel coordinates of the map.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.fits.FitsMap.pix2sky">
<tt class="descname">pix2sky</tt><big>(</big><em>pixel</em>, <em>degrees_or_equatorial='degrees'</em><big>)</big><a class="headerlink" href="#astrolyze.maps.fits.FitsMap.pix2sky" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the coordinate of a given pixel.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>pixel</strong> : list</p>
<blockquote>
<div><p>Pixel of the map; [x, y].</p>
</div></blockquote>
<p><strong>degrees_or_equatorial</strong> : string</p>
<blockquote>
<div><p>Either <tt class="docutils literal"><span class="pre">&quot;degrees&quot;</span></tt> or <tt class="docutils literal"><span class="pre">&quot;equatorial&quot;</span></tt>. Choosing the
Format of the coordintates to be returnes.
Defaults to <tt class="docutils literal"><span class="pre">&quot;degrees&quot;</span></tt>.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>coordinate</strong> : list</p>
<blockquote class="last">
<div><p>The coordinates corresponding to pixel. Either in Degrees or in
Equatorial coordinates, depending on the parameter
<em>degrees_or_equatorial</em>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.fits.FitsMap.gauss_factor">
<tt class="descname">gauss_factor</tt><big>(</big><em>beamConv</em>, <em>beamOrig=None</em>, <em>dx1=None</em>, <em>dy1=None</em><big>)</big><a class="headerlink" href="#astrolyze.maps.fits.FitsMap.gauss_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets scaling factor needed get flux per beam after convolving.</p>
<p>Caluclates the scaling factor to be applied after convolving
a map in Jy/beam with a gaussian to get fluxes in Jy/beam again.</p>
<p>This function is a copy of the FORTRAN gaufac function from the Miriad
package, which determine the Gaussian parameters resulting from
convolving two gaussians. This function yields the same result as
the MIRIAD gaufac function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>beamConv</strong> : list</p>
<blockquote>
<div><p>A list of the [major axis, minor axis, position_angle]
of the gaussion used for convolution.</p>
</div></blockquote>
<p><strong>beamOrig :</strong> :</p>
<blockquote>
<div><p>Same format as beamConv but giving the parameters of the original
beam of the map. As Default the self.resolution list is used.</p>
</div></blockquote>
<p><strong>dx1, dy1</strong> : floats</p>
<blockquote>
<div><p>Being the pixel size in both dimensions of the map.
By default the <tt class="docutils literal"><span class="pre">CDELT1</span></tt> and <tt class="docutils literal"><span class="pre">CDELT2</span></tt> keywords from the
fits header are used.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>fac :</strong> :</p>
<blockquote>
<div><p>Factor for the output Units.</p>
</div></blockquote>
<p><strong>amp :</strong> :</p>
<blockquote>
<div><p>Amplitude of resultant Gaussian.</p>
</div></blockquote>
<p><strong>bmaj, bmin :</strong> :</p>
<blockquote>
<div><p>Major and minor axes of resultant gaussian.</p>
</div></blockquote>
<p><strong>bpa :</strong> :</p>
<blockquote class="last">
<div><p>Position angle of the resulting gaussian.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.fits.FitsMap.change_unit">
<tt class="descname">change_unit</tt><big>(</big><em>final_unit</em>, <em>frequency=None</em>, <em>debug=False</em><big>)</big><a class="headerlink" href="#astrolyze.maps.fits.FitsMap.change_unit" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes the unit of a map in an automated way.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>final_unit</strong> : string</p>
<blockquote>
<div><dl class="docutils">
<dt>The unit to change the map to. Possible are:</dt>
<dd><ol class="first last arabic">
<li><p class="first">Jy/beam: <tt class="docutils literal"><span class="pre">&quot;JyB&quot;</span></tt> <tt class="docutils literal"><span class="pre">&quot;JyBeam&quot;</span></tt></p>
</li>
<li><p class="first">Jy/pixel: <tt class="docutils literal"><span class="pre">&quot;JyP&quot;</span></tt>, <tt class="docutils literal"><span class="pre">&quot;JyPix&quot;</span></tt>, <tt class="docutils literal"><span class="pre">&quot;JyPixel&quot;</span></tt></p>
</li>
<li><p class="first">MJy/sterad: <tt class="docutils literal"><span class="pre">&quot;MJyPsr&quot;</span></tt>, <tt class="docutils literal"><span class="pre">&quot;MJPSR&quot;</span></tt>, <tt class="docutils literal"><span class="pre">&quot;MJy/sr&quot;</span></tt></p>
</li>
<li><p class="first">Main Beam Temperature: <tt class="docutils literal"><span class="pre">&quot;Tmb&quot;</span></tt>, <tt class="docutils literal"><span class="pre">&quot;T&quot;</span></tt>, <tt class="docutils literal"><span class="pre">&quot;Kkms&quot;</span></tt></p>
</li>
<li><dl class="first docutils">
<dt>erg/s/pixel: <tt class="docutils literal"><span class="pre">&quot;ergs&quot;</span></tt> <tt class="docutils literal"><span class="pre">&quot;ERGPSECPPIX&quot;</span></tt>,</dt>
<dd><p class="first last"><tt class="docutils literal"><span class="pre">&quot;ERGPSECPPIXEL&quot;</span></tt>, <tt class="docutils literal"><span class="pre">&quot;ERG-S-1-Pixel&quot;</span></tt>,
<tt class="docutils literal"><span class="pre">&quot;ERG-S-1&quot;</span></tt></p>
</dd>
</dl>
</li>
<li><p class="first">erg/s/beam: <tt class="docutils literal"><span class="pre">&quot;ERGPSECPBEAM&quot;</span></tt></p>
</li>
<li><p class="first">erg/s/sterad <tt class="docutils literal"><span class="pre">&quot;ERGPERSTER&quot;</span></tt></p>
</li>
</ol>
</dd>
</dl>
</div></blockquote>
<p><strong>frequency</strong> : float</p>
<blockquote class="last">
<div><p>Can be used if self.frequency is NaN. The frequency (in GHz) is
needed for conversions between temperature and Jansky/Erg scale.
Other conversions don&#8217;t need it.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This function is still in development and not all
conversions may work properly.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.fits.FitsMap.toGildas">
<tt class="descname">toGildas</tt><big>(</big><em>prefix=None</em><big>)</big><a class="headerlink" href="#astrolyze.maps.fits.FitsMap.toGildas" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes the current map to the Gildas Format.</p>
<p>The function takes changes to the map_name variables
made outside of functions into account via
<a class="reference internal" href="#astrolyze.maps.main.Map.returnName" title="astrolyze.maps.main.Map.returnName"><tt class="xref py py-func docutils literal"><span class="pre">astrolyze.maps.main.Map.returnName()</span></tt></a> into account.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>prefix: string or None</strong> :</p>
<blockquote class="last">
<div><p>Path to location where the new gildas file will be stored.
The default is None which defaults to the current self.prefix.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>To continue working with the gildas map use:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">map</span> <span class="o">=</span> <span class="nb">map</span><span class="o">.</span><span class="n">toGildas</span><span class="p">()</span>
</pre></div>
</div>
<p>To only store the current map in the gildas format and go on
working with the fits file use:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">map</span><span class="o">.</span><span class="n">toGildas</span><span class="p">()</span>
</pre></div>
</div>
<p>Here map is an Instance of the FitsMap class.</p>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.fits.FitsMap.toMiriad">
<tt class="descname">toMiriad</tt><big>(</big><em>prefix=None</em><big>)</big><a class="headerlink" href="#astrolyze.maps.fits.FitsMap.toMiriad" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes the current map to the Miriad Format.</p>
<p>The function takes changes to the map_name variables made outside of
functions into account via <tt class="xref py py-func docutils literal"><span class="pre">maps.main.Map.returnName()</span></tt> into
account.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>prefix</strong> : string or None</p>
<blockquote class="last">
<div><p>Path to location where the new gildas file will be stored.
The default is None which defaults to the current self.prefix.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>This function works like
<tt class="xref py py-func docutils literal"><span class="pre">maps.mapClassFits.FitsMap.toGildas()</span></tt> and the same
Examples apply.</p>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.fits.FitsMap.toFits">
<tt class="descname">toFits</tt><big>(</big><big>)</big><a class="headerlink" href="#astrolyze.maps.fits.FitsMap.toFits" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes the map to Fits Format.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="gildasmap">
<h2>GildasMap<a class="headerlink" href="#gildasmap" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="astrolyze.maps.gildas.GildasMap">
<em class="property">class </em><tt class="descclassname">astrolyze.maps.gildas.</tt><tt class="descname">GildasMap</tt><big>(</big><em>map_name</em>, <em>name_convention=True</em><big>)</big><a class="headerlink" href="#astrolyze.maps.gildas.GildasMap" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapping GILDAS functions to use them inline with Python.</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">change_map_name</span></tt>([source,&nbsp;telescope,&nbsp;...])</td>
<td>Change the names of the maps on basis of the keywords.</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">custom_go_spectrum</span></tt>([coordinate,&nbsp;size,&nbsp;angle])</td>
<td>This function uses the <tt class="docutils literal"><span class="pre">go</span> <span class="pre">spectrum</span></tt> command from GREG to plot</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">flux_conversion</span></tt>([x,&nbsp;major,&nbsp;minor,&nbsp;...])</td>
<td>Calulates conversion between K.km/s and Jy/beam and vise versa.</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">get_beam_size</span></tt>()</td>
<td>Calculates the beam-size in steradians and in m^2.</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">get_noise</span></tt>()</td>
<td></td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">get_spectra_from_cube</span></tt>(coordinate[,&nbsp;angle,&nbsp;...])</td>
<td>Extract a spectra from a cube at a given position.</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">goRot</span></tt>(angle[,&nbsp;prefix])</td>
<td>Wrapper to the GREG go rot command, which rotates maps around their</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">lmv</span></tt>([fileout,&nbsp;prefix])</td>
<td>Wrapper to the lmv command of Class to extract spectra from a</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">mask</span></tt>(polygon[,&nbsp;in_out,&nbsp;new_blank,&nbsp;prefix])</td>
<td>Wrapper to the GREG task mask:</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">moments</span></tt>([velo_range,&nbsp;threshold,&nbsp;smooth,&nbsp;...])</td>
<td>Wraps the GREG task moments creating the first three moments</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">quick_preview</span></tt>([save,&nbsp;filename,&nbsp;window])</td>
<td>Plotting the map and optionally save the figure.</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">reproject</span></tt>([template,&nbsp;coord,&nbsp;prefix,&nbsp;...])</td>
<td>Wraps the GREG task reproject. Either use template <em>or</em> coord.</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">resolutionToString</span></tt>([resolution])</td>
<td>Converts the resolution list to a string.</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">returnName</span></tt>([source,&nbsp;telescope,&nbsp;species,&nbsp;...])</td>
<td>Returns the Name corresponding to the Name convention.</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">save_figure</span></tt>([name])</td>
<td>Helper function that saves the current plot.</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">set_defaults</span></tt>()</td>
<td>Reset all selection criteria.</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">slice</span></tt>(coordinate1,&nbsp;coordinate2[,&nbsp;prefix,&nbsp;...])</td>
<td>Wrapper for the GREG task slice. Producing Position velocity cuts</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">smooth</span></tt>(new_resolution[,&nbsp;old_resolution,&nbsp;prefix])</td>
<td>Wrapper to the GREG task gauss_smooth.</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">spectrum</span></tt>(coordinate[,&nbsp;fileout,&nbsp;prefix,&nbsp;...])</td>
<td>Wrapper to the spectrum command from greg that extracts a spectrum from a cube at a given positions.</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">toFits</span></tt>()</td>
<td>Converts the actual map to a Fits map.</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">toGildas</span></tt>()</td>
<td>Stays in Gildas Format but copies the map to the new name if any.</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">toMiriad</span></tt>()</td>
<td>Converts the actual map to a Miriad map.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="astrolyze.maps.gildas.GildasMap.set_defaults">
<tt class="descname">set_defaults</tt><big>(</big><big>)</big><a class="headerlink" href="#astrolyze.maps.gildas.GildasMap.set_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset all selection criteria.</p>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.gildas.GildasMap.spectrum">
<tt class="descname">spectrum</tt><big>(</big><em>coordinate</em>, <em>fileout=None</em>, <em>prefix=None</em>, <em>create_spectrum=True</em><big>)</big><a class="headerlink" href="#astrolyze.maps.gildas.GildasMap.spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper to the spectrum command from greg that extracts
a spectrum from a cube at a given positions. By default it also creates
a 30m file readable by class from the table.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>coordinate</strong> : list</p>
<blockquote>
<div><p>A list with the coordinates in floats in units of Degrees,
or in string for equatorial coordinate.</p>
</div></blockquote>
<p><strong>fileout</strong> : string</p>
<blockquote>
<div><p>The name of the table where the spectrum will be stored.
Default is the same name as the map with <tt class="docutils literal"><span class="pre">&quot;.tab&quot;</span></tt> as ending.</p>
</div></blockquote>
<p><strong>prefix :</strong> :</p>
<blockquote>
<div><p>The path to the folder where the newly created file will be
stored.  Defaults to the prefix currently stored in self.prefix.</p>
</div></blockquote>
<p><strong>create_spectrum</strong> : True or False</p>
<blockquote class="last">
<div><p>Turn the creation of a 30m with the spectrum of <tt class="docutils literal"><span class="pre">False</span></tt> or on
<tt class="docutils literal"><span class="pre">True</span></tt>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astrolyze.maps</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">map</span> <span class="o">=</span>  <span class="n">GildasMap</span><span class="p">(</span><span class="s">&#39;M33_PdBI_12co10_Tmb_22.0_2kms.gdf&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">coordinate</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;1:34:7.00&#39;</span><span class="p">,</span> <span class="s">&#39;+30:47:52.00&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">map</span><span class="o">.</span><span class="n">spectrum</span><span class="p">(</span><span class="n">coordinate</span><span class="p">)</span>
</pre></div>
</div>
<p>Creates M33_PdBI_12co10_Tmb_22.0_2kms.tab in the present folder.</p>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.gildas.GildasMap.lmv">
<tt class="descname">lmv</tt><big>(</big><em>fileout=None</em>, <em>prefix=None</em><big>)</big><a class="headerlink" href="#astrolyze.maps.gildas.GildasMap.lmv" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Wrapper to the lmv command of Class to extract spectra from a</dt>
<dd>spectral cube.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>fileout</strong> : string</p>
<blockquote>
<div><blockquote>
<div><p>The name of the class file to write the spectra to. Defaults to
the map_name with .30m ending.</p>
</div></blockquote>
<dl class="docutils">
<dt>prefix <span class="classifier-delimiter">:</span> <span class="classifier">string</span></dt>
<dd><p class="first last">The path were the class file will be stores. Defaults to
the current path.</p>
</dd>
</dl>
</div></blockquote>
<p class="last"><strong>..        Tested and working.</strong> :</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.gildas.GildasMap.mask">
<tt class="descname">mask</tt><big>(</big><em>polygon</em>, <em>in_out='in'</em>, <em>new_blank='-6666'</em>, <em>prefix=None</em><big>)</big><a class="headerlink" href="#astrolyze.maps.gildas.GildasMap.mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper to the GREG task mask:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>polygon</strong> : string</p>
<blockquote>
<div><p>path to a GILDAS polygon file with ending <tt class="docutils literal"><span class="pre">&quot;.pol&quot;</span></tt></p>
</div></blockquote>
<p><strong>in_out</strong> : string</p>
<blockquote>
<div><p>Can be <cite>&#8216;in&#8217;</cite> or <cite>&#8216;out&#8217;</cite> to choose whether the mask is applied
inside or outside of the polygon.</p>
</div></blockquote>
<p><strong>new_blank</strong> :  float</p>
<blockquote>
<div><p>The new blanking value that is to be applied after masking.
Defaults to False.</p>
</div></blockquote>
<p><strong>prefix</strong> : string</p>
<blockquote>
<div><p>The path where the output is to be stored if different
from the current prefix of the map.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first last"><strong>mapObject</strong> : The masked map object.</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">map</span><span class="o">.</span><span class="n">mask</span><span class="p">(</span><span class="s">&#39;poly/sourceA.pol&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.gildas.GildasMap.reproject">
<tt class="descname">reproject</tt><big>(</big><em>template=None</em>, <em>coord=None</em>, <em>prefix=None</em>, <em>keep_pixsize=False</em>, <em>new_axis=None</em><big>)</big><a class="headerlink" href="#astrolyze.maps.gildas.GildasMap.reproject" title="Permalink to this definition">¶</a></dt>
<dd><p>Wraps the GREG task reproject. Either use template <em>or</em> coord.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>template</strong> : string</p>
<blockquote>
<div><p>Full path to a map in GDF Format whose central
coordinate and pixel size will serve as a template.</p>
</div></blockquote>
<p><strong>coord</strong> : list</p>
<blockquote>
<div><p>List of coordinate strings in RA DEC (J2000) that
will become the new centre of the map.</p>
</div></blockquote>
<p><strong>prefix</strong> : string</p>
<blockquote>
<div><p>The path where the output is to be stored if different
from the current prefix of the map. If None the current
self.prefix of the GildasMap instance is used.</p>
</div></blockquote>
<p><strong>keep_pixsize</strong> : bool</p>
<blockquote>
<div><p>If False reproject guesses the new pixel sizes after reprojection
these are normally smaller than the original ones.
If True the old pixel sizes are enforced.</p>
</div></blockquote>
<p><strong>new_axis</strong> :  None or list</p>
<blockquote>
<div><p>If None nothing is done. To resize the map give a list of 
two array with the new values for:
- the number of pixels
- reference pixel
- value at pixel [radians]
- and pixel increment  [radians]
for both axis, e.g. [[#, ref, value, inc], [[#, ref, value, inc]]</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>GildasMap Object</strong> : Instance for the reprojected map.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises :</th><td class="field-body"><p class="first"><strong>SystemExit</strong> :</p>
<blockquote>
<div><p>If both <strong>template</strong> and <strong>coord</strong> are not <tt class="docutils literal"><span class="pre">None</span></tt>.</p>
</div></blockquote>
<p><strong>ValueError</strong> :</p>
<blockquote class="last">
<div><p>If keep_pixsize is not a boolean.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p>For more information on the Gildas task see:
.. [R1] www.iram.fr/GILDAS/</p>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">map</span><span class="o">.</span><span class="n">reproject</span><span class="p">(</span><span class="n">coord</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;1:34:32.8&#39;</span><span class="p">,</span> <span class="s">&#39;30:47:00.6&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">map</span><span class="o">.</span><span class="n">reproject</span><span class="p">(</span><span class="n">template</span> <span class="o">=</span> <span class="s">&#39;M33_SPIRE_250_JyB_18.1.gdf&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.gildas.GildasMap.moments">
<tt class="descname">moments</tt><big>(</big><em>velo_range=[0, 0], threshold=0, smooth='YES', prefix=None, comment=None</em><big>)</big><a class="headerlink" href="#astrolyze.maps.gildas.GildasMap.moments" title="Permalink to this definition">¶</a></dt>
<dd><p>Wraps the GREG task moments creating the first three moments
of the map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>velo_range</strong> : list</p>
<blockquote>
<div><p>Velocity range for the integration.</p>
</div></blockquote>
<p><strong>threshold</strong> : float</p>
<blockquote>
<div><p>Value under which pixels are blanked.</p>
</div></blockquote>
<p><strong>smooth</strong> : string</p>
<blockquote>
<div><p>One of Either <tt class="docutils literal"><span class="pre">&quot;NO&quot;</span></tt> or <tt class="docutils literal"><span class="pre">&quot;YES&quot;</span></tt>. Controls
if the map is smoothed in velocity before applying the cut
threshold. Getting rid of noise peaks over the threshold.
Defaults to <tt class="docutils literal"><span class="pre">'YES'</span></tt></p>
</div></blockquote>
<p><strong>prefix</strong> : string</p>
<blockquote>
<div><p>The path where the output is to be stored if different
from the current prefix of the map.</p>
</div></blockquote>
<p><strong>comment</strong> : string</p>
<blockquote>
<div><p>Optional comments to be added to the new map name.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>mean</strong> : MapObject</p>
<blockquote class="last">
<div><p>The zeroth moment, i.e. the integrated intensity, is returned as a
GildasMap object.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.gildas.GildasMap.goRot">
<tt class="descname">goRot</tt><big>(</big><em>angle</em>, <em>prefix=None</em><big>)</big><a class="headerlink" href="#astrolyze.maps.gildas.GildasMap.goRot" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper to the GREG go rot command, which rotates maps around their
central coordinate stored in the header.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>angle</strong> : float [deg]</p>
<blockquote>
<div><p>Rotation angle.</p>
</div></blockquote>
<p><strong>prefix</strong> : string</p>
<blockquote>
<div><p>The path where the output is to be stored if different
from the current prefix of the map.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first last"><strong>GildasMap Object</strong> : Instance for the reprojected map.</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">map</span><span class="o">.</span><span class="n">goRot</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span>
</pre></div>
</div>
<p>To change the central coordinate first use
<tt class="xref py py-func docutils literal"><span class="pre">maps.gildas.GildasMap.reproject()</span></tt> e.g.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">map</span> <span class="o">=</span> <span class="nb">map</span><span class="o">.</span><span class="n">reproject</span><span class="p">(</span><span class="n">coord</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;new_RA_string&#39;</span><span class="p">,</span><span class="s">&#39;new_DEC_string&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">map</span><span class="o">.</span><span class="n">goRot</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.gildas.GildasMap.slice">
<tt class="descname">slice</tt><big>(</big><em>coordinate1</em>, <em>coordinate2</em>, <em>prefix=None</em>, <em>comment=None</em><big>)</big><a class="headerlink" href="#astrolyze.maps.gildas.GildasMap.slice" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for the GREG task slice. Producing Position velocity cuts
trough a map between coordinate1 and coordinate2.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>coordinate1</strong> : string</p>
<blockquote>
<div><p>The coordinate where the cut trough the map starts.</p>
</div></blockquote>
<p><strong>coordinate2</strong> : string</p>
<blockquote>
<div><p>The coordinate where the cut trough the map ends.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first last"><strong>A GildasMap object containing the slice.</strong> :</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>This only works with cubes.</p>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.gildas.GildasMap.smooth">
<tt class="descname">smooth</tt><big>(</big><em>new_resolution</em>, <em>old_resolution=None</em>, <em>prefix=None</em><big>)</big><a class="headerlink" href="#astrolyze.maps.gildas.GildasMap.smooth" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper to the GREG task gauss_smooth.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>new_resolution</strong> : float or list</p>
<blockquote>
<div><p>The resulting resolution after the smoothing.
It can be:</p>
<blockquote>
<div><ol class="arabic simple">
<li>a float: i.e. the final major and minor beamsize.
The position angle will default to 0.</li>
<li>a list with two floats: [major_axis, minor_axis]. The
position angle defaults to 0.</li>
<li>a list with three floats: [major_axis, minor_axis,
position_angle].</li>
</ol>
</div></blockquote>
</div></blockquote>
<p><strong>old_resolution</strong> : float or list</p>
<blockquote>
<div><p>Same format as new_resolution. Defaults to self.resolution of the
map instance.</p>
</div></blockquote>
<p><strong>prefix</strong> : string</p>
<blockquote class="last">
<div><p>The path where the output is to be stored if different
from the current prefix of the map.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The gauss_smooth Task from GILDAS only gives correct output
units when the map is on a temperature or &#8220;per pixel&#8221; scale.
<strong>Maps in Jy/Beam won&#8217;t be in Jy/Beam after smoothing.</strong></p>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.gildas.GildasMap.custom_go_spectrum">
<tt class="descname">custom_go_spectrum</tt><big>(</big><em>coordinate=False</em>, <em>size=False</em>, <em>angle=0</em><big>)</big><a class="headerlink" href="#astrolyze.maps.gildas.GildasMap.custom_go_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>This function uses the <tt class="docutils literal"><span class="pre">go</span> <span class="pre">spectrum</span></tt> command from GREG to plot
the spectra in a region given by <tt class="docutils literal"><span class="pre">size</span></tt> around the cooridinate given
by <tt class="docutils literal"><span class="pre">coordinate</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>coordinate</strong> : list</p>
<blockquote>
<div><p>A list with the coordinates in floats in units of Degrees, or in
string for equatorial coordinates. Default to <tt class="docutils literal"><span class="pre">False</span></tt> which means
that the center of the map, determined from the map header, is
used.</p>
</div></blockquote>
<p><strong>size</strong> : list</p>
<blockquote>
<div><p>The region around the <tt class="docutils literal"><span class="pre">coordinate</span></tt> from which spectra are plotted
in arcsec, e.g. size = [50, 50] means a region of 50x50 arcsec
around the given cooridnate. Defaults to None, which translates to
size = [0, 0] which in turn is interpreted as  the full map size
by GREG.</p>
</div></blockquote>
<p><strong>angle</strong> : float [degrees]</p>
<blockquote class="last">
<div><p>Needed if the map is rotated to get the correct offsets. Defaults
to 0.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.gildas.GildasMap.save_figure">
<tt class="descname">save_figure</tt><big>(</big><em>name=None</em><big>)</big><a class="headerlink" href="#astrolyze.maps.gildas.GildasMap.save_figure" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function that saves the current plot.</p>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.gildas.GildasMap.quick_preview">
<tt class="descname">quick_preview</tt><big>(</big><em>save=False</em>, <em>filename=None</em>, <em>window=True</em><big>)</big><a class="headerlink" href="#astrolyze.maps.gildas.GildasMap.quick_preview" title="Permalink to this definition">¶</a></dt>
<dd><p>Plotting the map and optionally save the figure.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>save</strong> : True or False</p>
<blockquote>
<div><p>Choose wether or nor to save the figure.</p>
</div></blockquote>
<p><strong>filename</strong> : string</p>
<blockquote>
<div><p>The filename to for the saved plot. If None defaults to
<tt class="docutils literal"><span class="pre">'quick_preview.eps'</span></tt>.</p>
</div></blockquote>
<p><strong>window</strong> : True or False</p>
<blockquote class="last">
<div><p>Choose whether the image display is opened or not.
Default True.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.gildas.GildasMap.get_spectra_from_cube">
<tt class="descname">get_spectra_from_cube</tt><big>(</big><em>coordinate</em>, <em>angle=0</em>, <em>prefix=None</em>, <em>accuracy=2</em><big>)</big><a class="headerlink" href="#astrolyze.maps.gildas.GildasMap.get_spectra_from_cube" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract a spectra from a cube at a given position.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>coordinate: list</strong> :</p>
<blockquote>
<div><p>Equatorial coordinates, e.g. [&#8216;1:34:7.00&#8217;, &#8216;+30:47:52.00&#8217;]</p>
<blockquote>
<div><p>angle: float</p>
</div></blockquote>
<p>If the cube was rotated before the angle has to be specified
to calculate the correct offset.</p>
</div></blockquote>
<p><strong>prefix: string</strong> :</p>
<blockquote>
<div><p>The new path where the averaged spectrum will be stored.</p>
</div></blockquote>
<p><strong>accuracy: float</strong> :</p>
<blockquote>
<div><p>The tolerance in arcsec to find a spectra corresponding to the
given coordinate.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first last"><strong>ClassSpectra instance</strong> :</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.gildas.GildasMap.toFits">
<tt class="descname">toFits</tt><big>(</big><big>)</big><a class="headerlink" href="#astrolyze.maps.gildas.GildasMap.toFits" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the actual map to a Fits map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns :</th><td class="field-body"><strong>FitsMap Object.</strong> :</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>With:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">map</span> <span class="o">=</span> <span class="n">gildasMap</span><span class="p">(</span><span class="s">&#39;M33_MIPS_24mum_JyB_5.gdf&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">map</span> <span class="o">=</span> <span class="nb">map</span><span class="o">.</span><span class="n">toFits</span><span class="p">()</span>
</pre></div>
</div>
<p>it is possible to continue working with the fits map, using the
<tt class="xref py py-class docutils literal"><span class="pre">maps.fits.FitsMap</span></tt> class.</p>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.gildas.GildasMap.toMiriad">
<tt class="descname">toMiriad</tt><big>(</big><big>)</big><a class="headerlink" href="#astrolyze.maps.gildas.GildasMap.toMiriad" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the actual map to a Miriad map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns :</th><td class="field-body"><strong>MiriadMap Object.</strong> :</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>With:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">map</span> <span class="o">=</span> <span class="n">gildasMap</span><span class="p">(</span><span class="s">&#39;M33_MIPS_24mum_JyB_5.gdf&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">map</span> <span class="o">=</span> <span class="nb">map</span><span class="o">.</span><span class="n">toMiriad</span><span class="p">()</span>
</pre></div>
</div>
<p>it is possible to continue working with the Miriad map, using
<tt class="xref py py-class docutils literal"><span class="pre">maps.miriad.MiriadMap</span></tt> class.</p>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.gildas.GildasMap.toGildas">
<tt class="descname">toGildas</tt><big>(</big><big>)</big><a class="headerlink" href="#astrolyze.maps.gildas.GildasMap.toGildas" title="Permalink to this definition">¶</a></dt>
<dd><p>Stays in Gildas Format but copies the map to the new name if any.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="miriadmap">
<h2>MiriadMap<a class="headerlink" href="#miriadmap" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="astrolyze.maps.miriad.MiriadMap">
<em class="property">class </em><tt class="descclassname">astrolyze.maps.miriad.</tt><tt class="descname">MiriadMap</tt><big>(</big><em>map_name</em>, <em>name_convention=True</em><big>)</big><a class="headerlink" href="#astrolyze.maps.miriad.MiriadMap" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">change_map_name</span></tt>([source,&nbsp;telescope,&nbsp;...])</td>
<td>Change the names of the maps on basis of the keywords.</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">ellipseMask</span></tt>(pa,&nbsp;incline,&nbsp;radius,&nbsp;coord,&nbsp;out)</td>
<td></td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">flux_conversion</span></tt>([x,&nbsp;major,&nbsp;minor,&nbsp;...])</td>
<td>Calulates conversion between K.km/s and Jy/beam and vise versa.</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">get_beam_size</span></tt>()</td>
<td>Calculates the beam-size in steradians and in m^2.</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">regrid</span></tt>([iN,&nbsp;out,&nbsp;axes,&nbsp;tin,&nbsp;desc,&nbsp;options,&nbsp;...])</td>
<td></td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">resolutionToString</span></tt>([resolution])</td>
<td>Converts the resolution list to a string.</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">returnName</span></tt>([source,&nbsp;telescope,&nbsp;species,&nbsp;...])</td>
<td>Returns the Name corresponding to the Name convention.</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">smooth</span></tt>(new_resolution[,&nbsp;old_resolution,&nbsp;scale])</td>
<td>Smoothes a miriad map to the new resolution.</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">toFits</span></tt>()</td>
<td>Converts the actual map to a Fits map.</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">toGildas</span></tt>()</td>
<td>Converts the actual map to a Gildas map.</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">toMiriad</span></tt>()</td>
<td>Copies the actual map changing the name such that it takes changes in keywords into account.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="astrolyze.maps.miriad.MiriadMap.toFits">
<tt class="descname">toFits</tt><big>(</big><big>)</big><a class="headerlink" href="#astrolyze.maps.miriad.MiriadMap.toFits" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the actual map to a Fits map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns :</th><td class="field-body"><strong>FitsMap Object.</strong> :</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>With:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">map</span> <span class="o">=</span> <span class="n">miriadMap</span><span class="p">(</span><span class="s">&#39;M33_MIPS_24mum_JyB_5&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">map</span> <span class="o">=</span> <span class="nb">map</span><span class="o">.</span><span class="n">toFits</span><span class="p">()</span>
</pre></div>
</div>
<p>it is possible to continue working with the Fits map, using
<tt class="xref py py-class docutils literal"><span class="pre">maps.fits.FitsMap</span></tt> class.</p>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.miriad.MiriadMap.toGildas">
<tt class="descname">toGildas</tt><big>(</big><big>)</big><a class="headerlink" href="#astrolyze.maps.miriad.MiriadMap.toGildas" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the actual map to a Gildas map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns :</th><td class="field-body"><strong>GildasMap Object.</strong> :</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>With:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">map</span> <span class="o">=</span> <span class="n">miriadMap</span><span class="p">(</span><span class="s">&#39;M33_MIPS_24mum_JyB_5&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">map</span> <span class="o">=</span> <span class="nb">map</span><span class="o">.</span><span class="n">toGildas</span><span class="p">()</span>
</pre></div>
</div>
<p>it is possible to continue working with the Fits map, using
<tt class="xref py py-class docutils literal"><span class="pre">maps.gildas.GildasMap</span></tt> class.</p>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.miriad.MiriadMap.toMiriad">
<tt class="descname">toMiriad</tt><big>(</big><big>)</big><a class="headerlink" href="#astrolyze.maps.miriad.MiriadMap.toMiriad" title="Permalink to this definition">¶</a></dt>
<dd><p>Copies the actual map changing the name such that it takes changes in
keywords into account.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns :</th><td class="field-body"><strong>MiriadMap Object.</strong> :</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>With:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">map</span> <span class="o">=</span> <span class="n">miriadMap</span><span class="p">(</span><span class="s">&#39;M33_MIPS_24mum_JyB_5&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">map</span> <span class="o">=</span> <span class="nb">map</span><span class="o">.</span><span class="n">toMiriad</span><span class="p">()</span>
</pre></div>
</div>
<p>it is possible to continue working with the Miriad map, using
<tt class="xref py py-class docutils literal"><span class="pre">maps.gildas.MiriadMap</span></tt> class.</p>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.miriad.MiriadMap.smooth">
<tt class="descname">smooth</tt><big>(</big><em>new_resolution</em>, <em>old_resolution=None</em>, <em>scale=''</em><big>)</big><a class="headerlink" href="#astrolyze.maps.miriad.MiriadMap.smooth" title="Permalink to this definition">¶</a></dt>
<dd><p>Smoothes a miriad map to the new resolution.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>new_resolution</strong> : float or list</p>
<blockquote>
<div><p>The resolution in of the smoothed image.
Can be a:</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt>float: Output beam has same major and minor axis [arcsec] and</dt>
<dd><p class="first last">the position angle (PA) [degrees] is 0.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>A list with two entries:</dt>
<dd><p class="first last">The major and minor axis. PA is 0.
E.g. [major_axis, minor_axis ]</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>A list with three entries:</dt>
<dd><p class="first last">[major_axis, minor_axis, PA]</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div></blockquote>
<p><strong>old_resolution</strong> : float</p>
<blockquote>
<div><p>If None the self.resolution information is taken into account.
Otherwise, it is assumed that old_resolution is the actual
resolution of the map.</p>
</div></blockquote>
<p><strong>scale</strong> : string</p>
<blockquote>
<div><p>If unset (scale=&#8217;&#8216;), the miriad function will attempt to make the
units of the smoothed image be Jy/beam for Gaussian convolution. If
<tt class="docutils literal"><span class="pre">0.0</span></tt>, then the convolution integral is scaled (multipled) by the
inverse of the volume of the convolving function. Otherwise, the
integral is scaled by &#8220;scale&#8221;</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>MiriadMap</strong> : object</p>
<blockquote class="last">
<div><p>The smoothed image.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The function used to calculate the fwhm (Omega) of the convolving
Gaussian for both major and minor axis is:</p>
<div class="math">
<p><img src="_images/math/061fa121d283ed09d518e7a87de29a8597550153.png" alt="\Omega_{\rm convolve} = \sqrt{\Omega_{\rm new}^2 -
\Omega_{\rm old}^2}"/></p>
</div></dd></dl>

</dd></dl>

</div>
<div class="section" id="stack">
<h2>Stack<a class="headerlink" href="#stack" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="astrolyze.maps.stack.Stack">
<em class="property">class </em><tt class="descclassname">astrolyze.maps.stack.</tt><tt class="descname">Stack</tt><big>(</big><em>folder</em>, <em>data_format=None</em><big>)</big><a class="headerlink" href="#astrolyze.maps.stack.Stack" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows to treat a folder of images as a whole and to perform the same
transformations on all of the maps. It is also the basis for the SED
package. The images in the input folder can have arbitrary formats, units,
resolutions and other specifications.
The Stack class can help to unify the different parameters of the maps to
help comparing them.</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">copy_structure</span></tt>(old_prefix,&nbsp;new_prefix)</td>
<td>Copies a folder structure from old_prefix to new_prefix.</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">get_list</span></tt>([data_format,&nbsp;depth])</td>
<td>Loading a list of files in all sub-folders.</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">get_map_format</span></tt>(map_name)</td>
<td>This function creates returns the correct <tt class="docutils literal"><span class="pre">GildasMap</span></tt>,</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">new_pixel_pixel_compare</span></tt>([folder,&nbsp;plot,&nbsp;...])</td>
<td>Producing a pixel-to-pixel comparison for all combinations possible between the maps of the stack.</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">pixel_pixel_compare</span></tt>([folder,&nbsp;plot,&nbsp;...])</td>
<td>Producing a pixel-to-pixel comparison for all combinations possible between the maps of the stack.</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">unify_dimensions</span></tt>([template,&nbsp;folder])</td>
<td>Reproject all maps to the same central coordinates and map dimensions.</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">unify_formats</span></tt>([target_format,&nbsp;folder])</td>
<td>Converts all maps to the <tt class="docutils literal"><span class="pre">target_format</span></tt> which has to be one that is known to astrolyze.</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">unify_projections</span></tt>([coordinate,&nbsp;angle,&nbsp;...])</td>
<td>Changing the central coordinate and the rotation angle.</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">unify_resolutions</span></tt>([folder,&nbsp;resolution])</td>
<td>Smoothing all maps to the same resolution; either the maximum resolution found in the stack or a given resolution.</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">unify_units</span></tt>([unit,&nbsp;folder,&nbsp;debug])</td>
<td>Change all maps in the stack to the same unit.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="astrolyze.maps.stack.Stack.get_map_format">
<tt class="descname">get_map_format</tt><big>(</big><em>map_name</em><big>)</big><a class="headerlink" href="#astrolyze.maps.stack.Stack.get_map_format" title="Permalink to this definition">¶</a></dt>
<dd><p>This function creates returns the correct <tt class="docutils literal"><span class="pre">GildasMap</span></tt>,
<tt class="docutils literal"><span class="pre">FitsMap</span></tt> or <tt class="docutils literal"><span class="pre">MiriadMap</span></tt> object without that the data format of the
map has to be given.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>map_name</strong> : string</p>
<blockquote>
<div><p>Path and name of the input map.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>Either a ``GildasMap``, ``FitsMap`` or ``MiriadMap` Either a</strong> :</p>
<p class="last"><strong>``Map`` class object depending on the data format of the input map.</strong> :</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.stack.Stack.get_list">
<tt class="descname">get_list</tt><big>(</big><em>data_format=None</em>, <em>depth=False</em><big>)</big><a class="headerlink" href="#astrolyze.maps.stack.Stack.get_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Loading a list of files in all sub-folders.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>folder</strong> : string</p>
<blockquote>
<div><p>The path to the folder that has to be parsed.</p>
</div></blockquote>
<p><strong>data_format</strong> : string</p>
<blockquote>
<div><p>Search for specific files containing the string, e.g.
&#8216;.fits&#8217;</p>
</div></blockquote>
<p><strong>depth</strong> : integer</p>
<blockquote>
<div><p>The steps into the sub-folder system. Defaults to maximum depth.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>final_list</strong> : array</p>
<blockquote>
<div><p>Array with the string to the files in the folder and sub folders.</p>
</div></blockquote>
<p><strong>folder_list :</strong> :</p>
<blockquote class="last">
<div><p>Array with the strings to the folders. Only if depth is set.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.stack.Stack.copy_structure">
<tt class="descname">copy_structure</tt><big>(</big><em>old_prefix</em>, <em>new_prefix</em><big>)</big><a class="headerlink" href="#astrolyze.maps.stack.Stack.copy_structure" title="Permalink to this definition">¶</a></dt>
<dd><p>Copies a folder structure from old_prefix to new_prefix. To assure all
folders exists before working with or copying data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>list</strong> : list</p>
<blockquote>
<div><p>A list containing the relative or absolute paths to files.</p>
</div></blockquote>
<p><strong>old_prefix</strong> : string</p>
<blockquote>
<div><p>The old path to the folder structure that has to be copied. Has to
actually appear in all the strings in list.</p>
</div></blockquote>
<p><strong>new_prefix</strong> : string</p>
<blockquote class="last">
<div><p>The path to where the folder structure is to be copied.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>This is useful if one is working on many files stored in several
sub-folders retrieved using <tt class="xref py py-func docutils literal"><span class="pre">get_list()</span></tt>.</p>
<p class="rubric">Examples</p>
<p>Say the folder structure is like this</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">ls</span> <span class="o">../</span><span class="n">modified</span><span class="o">/</span>
<span class="go">co10/</span>
<span class="go">co21/</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ls</span> <span class="o">../</span><span class="n">modfied</span><span class="o">/</span><span class="n">co10</span><span class="o">/</span>
<span class="go">map1/</span>
<span class="go">map2/</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ls</span> <span class="o">../</span><span class="n">modified</span><span class="o">/</span><span class="n">co21</span><span class="o">/</span>
<span class="go">map1/</span>
<span class="go">map2/</span>
</pre></div>
</div>
<p>This can be copied to say ../even_more_modified by doing as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astrolyze.maptools</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span> <span class="o">=</span> <span class="n">maptools</span><span class="o">.</span><span class="n">get_list</span><span class="p">(</span><span class="o">../</span><span class="n">modified</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">maptools</span><span class="o">.</span><span class="n">copy_structure</span><span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="n">old_prefix</span><span class="o">=</span><span class="s">&#39;../modified&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                        <span class="n">new_prefix</span><span class="o">=</span><span class="s">&#39;../even_more_modified&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.stack.Stack.unify_resolutions">
<tt class="descname">unify_resolutions</tt><big>(</big><em>folder=None</em>, <em>resolution=False</em><big>)</big><a class="headerlink" href="#astrolyze.maps.stack.Stack.unify_resolutions" title="Permalink to this definition">¶</a></dt>
<dd><p>Smoothing all maps to the same resolution; either the maximum
resolution found in the stack or a given resolution.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>resolution</strong> : float or list</p>
<blockquote>
<div><dl class="docutils">
<dt>This may be either:</dt>
<dd><ol class="first last arabic simple">
<li>A list with three entries, i.e.
[[minor_fwhm], [major_fwhm], [position_angle]]</li>
<li>A list with two entries, position_angle defaults to 0, i.e.
[[minor_fwhm], [major_fwhm]]</li>
<li>A float. Same minor, major fwhm pa=0</li>
</ol>
</dd>
</dl>
</div></blockquote>
<p><strong>folder</strong> : string</p>
<blockquote class="last">
<div><p>The path to the folder in which the files are to be stored.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The position angle of the output images is fixed to <tt class="docutils literal"><span class="pre">Zero</span></tt> and can
currently not be modified.</p>
<p>Depending on the map units different scaling normalizations have to be
used after smoothing such that the output units are correct. This
function tries to deduce the scaling by itself based on the unit that
is given in the map name. Be sure that this is correct otherwise the
flux values may be wrong in the output images.</p>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.stack.Stack.unify_units">
<tt class="descname">unify_units</tt><big>(</big><em>unit='JyB'</em>, <em>folder=None</em>, <em>debug=True</em><big>)</big><a class="headerlink" href="#astrolyze.maps.stack.Stack.unify_units" title="Permalink to this definition">¶</a></dt>
<dd><p>Change all maps in the stack to the same unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>unit</strong> : string</p>
<blockquote>
<div><p>See <tt class="xref py py-func docutils literal"><span class="pre">astrolyze.maps.fits.FitsMap.change_units()</span></tt>
for details.</p>
</div></blockquote>
<p><strong>folder</strong> : string</p>
<blockquote class="last">
<div><p>The target folder. By default the maps
are put into their current folder.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.stack.Stack.unify_dimensions">
<tt class="descname">unify_dimensions</tt><big>(</big><em>template=None</em>, <em>folder=None</em><big>)</big><a class="headerlink" href="#astrolyze.maps.stack.Stack.unify_dimensions" title="Permalink to this definition">¶</a></dt>
<dd><p>Reproject all maps to the same central coordinates and map
dimensions.  All properties of one template map are copied to all the
other maps using the <tt class="docutils literal"><span class="pre">&quot;reproject&quot;</span></tt> task of GILDAS.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>template</strong> : string</p>
<blockquote>
<div><p>Path to the map that will serve as a template, it may be one of
the input maps of the stack.</p>
</div></blockquote>
<p><strong>folder</strong> : string</p>
<blockquote class="last">
<div><p>Path to the folder where the output maps are stored.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.stack.Stack.unify_projections">
<tt class="descname">unify_projections</tt><big>(</big><em>coordinate=None</em>, <em>angle=None</em>, <em>folder=None</em>, <em>keep_pixsize=False</em><big>)</big><a class="headerlink" href="#astrolyze.maps.stack.Stack.unify_projections" title="Permalink to this definition">¶</a></dt>
<dd><p>Changing the central coordinate and the rotation angle.</p>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.stack.Stack.unify_formats">
<tt class="descname">unify_formats</tt><big>(</big><em>target_format='fits'</em>, <em>folder=None</em><big>)</big><a class="headerlink" href="#astrolyze.maps.stack.Stack.unify_formats" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts all maps to the <tt class="docutils literal"><span class="pre">target_format</span></tt> which has to be one
that is known to astrolyze. Please see TODO for a list of kwon formats.
Default is fits.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>target_format</strong> : string</p>
<blockquote>
<div><p>The format to which all maps are converted.</p>
</div></blockquote>
<p><strong>folder</strong> : string</p>
<blockquote class="last">
<div><p>Path to the folder where the new maps are stored.
If <tt class="docutils literal"><span class="pre">None</span></tt> the current folder will be used.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.stack.Stack.pixel_pixel_compare">
<tt class="descname">pixel_pixel_compare</tt><big>(</big><em>folder=None</em>, <em>plot=False</em>, <em>plot_folder=False</em>, <em>tol=1000000.0</em><big>)</big><a class="headerlink" href="#astrolyze.maps.stack.Stack.pixel_pixel_compare" title="Permalink to this definition">¶</a></dt>
<dd><p>Producing a pixel-to-pixel comparison for all combinations
possible between the maps of the stack.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>folder</strong> : string</p>
<blockquote>
<div><p>Path to the folder where the text files with the pixel
to pixel comparisons are stored</p>
</div></blockquote>
<p><strong>plot</strong> : [True | False]</p>
<blockquote>
<div><p>Decides whether to produce pixel-to-pixel plots directly.</p>
</div></blockquote>
<p><strong>tol</strong> : float</p>
<blockquote>
<div><p>The tolerance for the maximum difference between the
values of the pixel of two compared maps. Default to 1e6.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>Created text files in the specified folders that contain two columns</strong> :</p>
<blockquote class="last">
<div><p>with the pixel-to-pixel comparisons. These can be used</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="astrolyze.maps.stack.Stack.new_pixel_pixel_compare">
<tt class="descname">new_pixel_pixel_compare</tt><big>(</big><em>folder=None</em>, <em>plot=False</em>, <em>plot_folder=False</em>, <em>tol=False</em><big>)</big><a class="headerlink" href="#astrolyze.maps.stack.Stack.new_pixel_pixel_compare" title="Permalink to this definition">¶</a></dt>
<dd><p>Producing a pixel-to-pixel comparison for all combinations
possible between the maps of the stack.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>folder</strong> : string</p>
<blockquote>
<div><p>Path to the folder where the text files with the pixel
to pixel comparisons are stored</p>
</div></blockquote>
<p><strong>plot</strong> : [True | False]</p>
<blockquote>
<div><p>Decides whether to produce pixel-to-pixel plots directly.</p>
</div></blockquote>
<p><strong>tol</strong> : float</p>
<blockquote>
<div><p>The tolerance for the maximum difference between the
values of the pixel of two compared maps. Default to 1e6.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>Created text files in the specified folders that contain two columns</strong> :</p>
<blockquote class="last">
<div><p>with the pixel-to-pixel comparisons. These can be used</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-astrolyze.maps.tools">
<span id="tools"></span><h2>Tools<a class="headerlink" href="#module-astrolyze.maps.tools" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="astrolyze.maps.tools.get_list">
<tt class="descclassname">astrolyze.maps.tools.</tt><tt class="descname">get_list</tt><big>(</big><em>folder</em>, <em>data_format=None</em>, <em>depth=False</em><big>)</big><a class="headerlink" href="#astrolyze.maps.tools.get_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Loading a list of files in all subfolders.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>folder</strong> : string</p>
<blockquote>
<div><p>The path to the folder that has to be parsed.</p>
</div></blockquote>
<p><strong>data_format</strong> : string</p>
<blockquote>
<div><p>Search for specific files containing the string, e.g.
&#8216;.fits&#8217;</p>
</div></blockquote>
<p><strong>depth</strong> : integer</p>
<blockquote>
<div><p>The steps into the subfolder system. Defaults to maximum depth.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>final_list</strong> : array</p>
<blockquote>
<div><p>Array with the string to the files in the folder and sub folders.</p>
</div></blockquote>
<p><strong>folder_list :</strong> :</p>
<blockquote class="last">
<div><p>Array with the strings to the folders. Only if depth is set.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="astrolyze.maps.tools.copy_structure">
<tt class="descclassname">astrolyze.maps.tools.</tt><tt class="descname">copy_structure</tt><big>(</big><em>list</em>, <em>old_prefix</em>, <em>new_prefix</em><big>)</big><a class="headerlink" href="#astrolyze.maps.tools.copy_structure" title="Permalink to this definition">¶</a></dt>
<dd><p>Copies a folder structure from old_prefix to new_prefix. To assure all
folders exists before working with or copying data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>list</strong> : list</p>
<blockquote>
<div><p>A list containing the relative or absolute paths to files.</p>
</div></blockquote>
<p><strong>old_prefix</strong> : string</p>
<blockquote>
<div><p>The old path to the folder structure that has to be copied. Has to
actually appear in all the strings in list.</p>
</div></blockquote>
<p><strong>new_prefix</strong> : string</p>
<blockquote class="last">
<div><p>The path to where the folder structure is to be copied.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>This is usefull if one is working on many files stored in several
sub-folders retrieved using <a class="reference internal" href="#astrolyze.maps.tools.get_list" title="astrolyze.maps.tools.get_list"><tt class="xref py py-func docutils literal"><span class="pre">get_list()</span></tt></a>.</p>
<p class="rubric">Examples</p>
<p>Say the folder structure is like this</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">ls</span> <span class="o">../</span><span class="n">modified</span><span class="o">/</span>
<span class="go">co10/</span>
<span class="go">co21/</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ls</span> <span class="o">../</span><span class="n">modfied</span><span class="o">/</span><span class="n">co10</span><span class="o">/</span>
<span class="go">map1/</span>
<span class="go">map2/</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ls</span> <span class="o">../</span><span class="n">modified</span><span class="o">/</span><span class="n">co21</span><span class="o">/</span>
<span class="go">map1/</span>
<span class="go">map2/</span>
</pre></div>
</div>
<p>This can be copied to say ../even_more_modified by doing as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astrolyze.maptools</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span> <span class="o">=</span> <span class="n">maptools</span><span class="o">.</span><span class="n">get_list</span><span class="p">(</span><span class="o">../</span><span class="n">modified</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">maptools</span><span class="o">.</span><span class="n">copy_structure</span><span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="n">old_prefix</span><span class="o">=</span><span class="s">&#39;../modified&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                        <span class="n">new_prefix</span><span class="o">=</span><span class="s">&#39;../even_more_modified&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="astrolyze.maps.tools.unifyUnits">
<tt class="descclassname">astrolyze.maps.tools.</tt><tt class="descname">unifyUnits</tt><big>(</big><em>list</em>, <em>folder='units'</em><big>)</big><a class="headerlink" href="#astrolyze.maps.tools.unifyUnits" title="Permalink to this definition">¶</a></dt>
<dd><p>NOT READY YET!</p>
</dd></dl>

<dl class="function">
<dt id="astrolyze.maps.tools.unifyMaps">
<tt class="descclassname">astrolyze.maps.tools.</tt><tt class="descname">unifyMaps</tt><big>(</big><em>list</em>, <em>tinMap</em>, <em>folder='reg'</em><big>)</big><a class="headerlink" href="#astrolyze.maps.tools.unifyMaps" title="Permalink to this definition">¶</a></dt>
<dd><p>changes the dimensions and pixel sizes off all maps to that of a template
map.</p>
</dd></dl>

<dl class="function">
<dt id="astrolyze.maps.tools.unifyResolution">
<tt class="descclassname">astrolyze.maps.tools.</tt><tt class="descname">unifyResolution</tt><big>(</big><em>liste</em>, <em>resolution=False</em>, <em>folder='smooth'</em>, <em>scaling=''</em><big>)</big><a class="headerlink" href="#astrolyze.maps.tools.unifyResolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Approved.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="manual.html" title="Motivation"
             >previous</a> |</li>
        <li><a href="index.html">AstroLyze 0.1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Christof Buchbender.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>